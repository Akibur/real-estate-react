{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  lands: [],\n  loading: false,\n  landError: {\n    isError: false,\n    message: \"\"\n  },\n  alert: \"\"\n};\nexport const getLands = createAsyncThunk('lands/getLands', async thunkAPI => {\n  try {\n    const res = await fetch('http://localhost:5000/lands').then(data => data.json());\n    return res;\n  } catch (err) {\n    if (!err.response) {\n      throw err;\n    }\n    return thunkAPI.rejectWithValue(err.response.data);\n  }\n});\nexport const createLand = createAsyncThunk('lands/createLand', async (land, thunkAPI) => {\n  try {\n    const res = await fetch(`http://localhost:5000/lands/`, {\n      method: 'POST',\n      headers: {\n        \"authorization\": `Bearer ${localStorage.getItem('idToken')}`,\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify(land)\n    }).then(data => data.json()).catch(err => console.log(err));\n    return res;\n  } catch (err) {\n    console.log(\"try catch err\", err);\n    if (!err.response) {\n      throw err;\n    }\n    return thunkAPI.rejectWithValue(err.response.data);\n  }\n});\nconst landsSlice = createSlice({\n  name: 'lands',\n  initialState,\n  reducers: {\n    //pass the initial state and any payload which is in, action.payload \n    // createLand(state, action) {\n    //     // Create a land\n    // },\n    // deleteLand(state, action) {\n    //     // delete a land\n    // },\n  },\n  extraReducers: {\n    //GetLands\n    [getLands.pending]: state => {\n      state.loading = true;\n    },\n    [getLands.fulfilled]: (state, action) => {\n      state.loading = false;\n      state.lands = action.payload;\n    },\n    [getLands.rejected]: (state, action) => {\n      state.loading = false;\n      state.landError.isError = true;\n      state.landError.message = action;\n    },\n    //CreateLand\n    [createLand.pending]: state => {\n      state.loading = true;\n      state.alert = \"Adding...\";\n    },\n    [createLand.fulfilled]: (state, action) => {\n      state.loading = false;\n      state.alert = \"Land Added Succesfully\";\n    },\n    [createLand.rejected]: (state, action) => {\n      state.loading = false;\n      state.alert = \"\";\n      state.landError.isError = true;\n      state.landError.message = action.error.message;\n    }\n  }\n});\nexport const landsActions = landsSlice.actions;\nexport default landsSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","initialState","lands","loading","landError","isError","message","alert","getLands","thunkAPI","res","fetch","then","data","json","err","response","rejectWithValue","createLand","land","method","headers","localStorage","getItem","body","JSON","stringify","catch","console","log","landsSlice","name","reducers","extraReducers","pending","state","fulfilled","action","payload","rejected","error","landsActions","actions","reducer"],"sources":["/Users/akiburrahman/Desktop/Development/Msc/real-estate/real-estate-react/src/store/lands-slice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\n\n\nconst initialState = {\n    lands: [],\n    loading: false,\n    landError: {\n        isError: false,\n        message: \"\"\n    },\n    alert: \"\"\n};\n\n\n\nexport const getLands = createAsyncThunk(\n    'lands/getLands',\n    async (thunkAPI) => {\n\n        try {\n            const res = await fetch('http://localhost:5000/lands').then(\n                (data) => data.json()\n            );\n            return res;\n        } catch (err) {\n            if (!err.response) {\n                throw err;\n            }\n            return thunkAPI.rejectWithValue(err.response.data);\n        }\n\n    });\n\nexport const createLand = createAsyncThunk(\n    'lands/createLand',\n    async (land, thunkAPI) => {\n        try {\n            const res = await fetch(`http://localhost:5000/lands/`, {\n                method: 'POST',\n                headers: {\n                    \"authorization\": `Bearer ${localStorage.getItem('idToken')}`,\n                    'content-type': 'application/json'\n                },\n                body: JSON.stringify(land)\n            }).then(\n                (data) => data.json()\n            ).catch((err) => console.log(err));\n            return res;\n        } catch (err) {\n            console.log(\"try catch err\", err);\n\n            if (!err.response) {\n                throw err;\n            }\n            return thunkAPI.rejectWithValue(err.response.data);\n        }\n\n    });\n\n\nconst landsSlice = createSlice({\n    name: 'lands',\n    initialState,\n    reducers: {\n        //pass the initial state and any payload which is in, action.payload \n        // createLand(state, action) {\n        //     // Create a land\n        // },\n        // deleteLand(state, action) {\n        //     // delete a land\n        // },\n    },\n    extraReducers: {\n        //GetLands\n        [getLands.pending]: (state) => {\n            state.loading = true;\n        },\n        [getLands.fulfilled]: (state, action) => {\n            state.loading = false;\n            state.lands = action.payload;\n        },\n        [getLands.rejected]: (state, action) => {\n            state.loading = false;\n            state.landError.isError = true;\n            state.landError.message = action;\n        },\n\n        //CreateLand\n        [createLand.pending]: (state) => {\n            state.loading = true;\n            state.alert = \"Adding...\";\n        },\n        [createLand.fulfilled]: (state, action) => {\n            state.loading = false;\n            state.alert = \"Land Added Succesfully\";\n        },\n        [createLand.rejected]: (state, action) => {\n            state.loading = false;\n            state.alert = \"\";\n            state.landError.isError = true;\n            state.landError.message = action.error.message;\n        },\n\n    },\n});\n\nexport const landsActions = landsSlice.actions;\n\nexport default landsSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}